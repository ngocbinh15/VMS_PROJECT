@*
    Shared Partial — User info (avatar + name + role) + logout button.
    Reads from Session directly so it works with any ViewModel.
    Session keys: "HoTen" (full name), "RoleName" (role display).
*@
@{
    var fullName = Context.Session.GetString("HoTen") ?? "";
    var role = Context.Session.GetString("RoleName") ?? "";
    var initials = fullName.Length >= 2
        ? fullName.Substring(0, 2).ToUpper()
        : "KT";
}

<div class="d-flex align-items-center gap-3">
    <div class="text-end d-none d-sm-block">
        <div class="fw-bold text-dark small">@fullName</div>
        <div class="text-muted" style="font-size: 0.7rem;">@role</div>
    </div>
    <div class="bg-primary bg-opacity-10 text-primary rounded-circle d-flex align-items-center justify-content-center fw-bold"
         style="width: 40px; height: 40px;">
        @initials
    </div>
    <a href="@Url.Action("Logout", "Login")" class="btn btn-sm btn-outline-danger" title="Đăng xuất">
        <i class="bi bi-box-arrow-right"></i>
    </a>
</div>
